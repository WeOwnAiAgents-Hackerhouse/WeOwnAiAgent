2025-02-28T23:22:10.715Z [INFO]: # Cloning repository: git@github.com:WeOwnAiAgents-Hackerhouse/WeOwnAiAgent.git
2025-02-28T23:22:12.240Z [INFO]: 
2025-02-28T23:22:12.241Z [INFO]: Cloning into 'WeOwnAiAgent'...
2025-02-28T23:22:12.241Z [INFO]: # Switching to commit: 5e1a1c080f4c4cf7fb0fc0d15432c928f8cdc87f
2025-02-28T23:22:12.260Z [INFO]: Note: switching to '5e1a1c080f4c4cf7fb0fc0d15432c928f8cdc87f'.
                                 You are in 'detached HEAD' state. You can look around, make experimental
                                 changes and commit them, and you can discard any commits you make in this
                                 state without impacting any branches by switching back to a branch.
                                 If you want to create a new branch to retain commits you create, you may
                                 do so (now or later) by using -c with the switch command. Example:
                                 git switch -c <new-branch-name>
                                 Or undo this operation with:
                                 git switch -
                                 Turn off this advice by setting config variable advice.detachedHead to false
                                 HEAD is now at 5e1a1c0 aargh , missing stack name
2025-02-28T23:22:12.272Z [INFO]: Successfully cleaned up Git credentials
2025-02-28T23:22:12.272Z [INFO]: # Checking for Git submodules at: /codebuild/output/src2391640231/src/WeOwnAiAgent/.gitmodules
2025-02-28T23:22:12.279Z [INFO]: # Retrieving environment cache...
2025-02-28T23:22:12.313Z [WARNING]: ! Unable to write cache: {"code":"ERR_BAD_REQUEST","message":"Request failed with status code 404"})}
2025-02-28T23:22:12.313Z [INFO]: ---- Setting Up SSM Secrets ----
2025-02-28T23:22:12.313Z [INFO]: SSM params {"Path":"/amplify/d2hprnq4j9i4p/main/","WithDecryption":true}
2025-02-28T23:22:12.360Z [WARNING]: !Failed to set up process.env.secrets
2025-02-28T23:22:13.221Z [INFO]: # No package override configuration found.
2025-02-28T23:22:13.225Z [INFO]: # Retrieving cache...
2025-02-28T23:22:13.264Z [INFO]: # Retrieved cache
2025-02-28T23:22:17.865Z [INFO]: ## Starting Backend Build
                                 ## Checking for associated backend environment...
                                 ## No backend environment association found, continuing...
                                 ## Completed Backend Build
2025-02-28T23:22:17.870Z [INFO]: {"backendDuration": 0}
                                 ## Starting Frontend Build
                                 # Starting phase: preBuild
                                 # Executing command: npm install -g pnpm
2025-02-28T23:22:33.962Z [INFO]: added 1 package in 6s
2025-02-28T23:22:33.968Z [INFO]: 1 package is looking for funding
                                 run `npm fund` for details
2025-02-28T23:22:33.976Z [INFO]: # Executing command: pnpm install
2025-02-28T23:22:34.551Z [INFO]: Lockfile is up to date, resolution step is skipped
2025-02-28T23:22:34.676Z [INFO]: Progress: resolved 1, reused 0, downloaded 0, added 0
2025-02-28T23:22:34.884Z [INFO]: Packages: +1209
                                 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
2025-02-28T23:22:35.677Z [INFO]: Progress: resolved 1209, reused 0, downloaded 69, added 65
2025-02-28T23:22:36.679Z [INFO]: Progress: resolved 1209, reused 0, downloaded 113, added 104
2025-02-28T23:22:37.680Z [INFO]: Progress: resolved 1209, reused 0, downloaded 186, added 174
2025-02-28T23:22:38.686Z [INFO]: Progress: resolved 1209, reused 0, downloaded 334, added 323
2025-02-28T23:22:39.687Z [INFO]: Progress: resolved 1209, reused 0, downloaded 459, added 453
2025-02-28T23:22:40.687Z [INFO]: Progress: resolved 1209, reused 0, downloaded 503, added 495
2025-02-28T23:22:41.689Z [INFO]: Progress: resolved 1209, reused 0, downloaded 560, added 558
2025-02-28T23:22:42.689Z [INFO]: Progress: resolved 1209, reused 0, downloaded 621, added 608
2025-02-28T23:22:43.689Z [INFO]: Progress: resolved 1209, reused 0, downloaded 688, added 682
2025-02-28T23:22:44.690Z [INFO]: Progress: resolved 1209, reused 0, downloaded 709, added 697
2025-02-28T23:22:45.691Z [INFO]: Progress: resolved 1209, reused 0, downloaded 804, added 800
2025-02-28T23:22:46.692Z [INFO]: Progress: resolved 1209, reused 0, downloaded 923, added 917
2025-02-28T23:22:47.693Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1041, added 1032
2025-02-28T23:22:48.692Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1105, added 1098
2025-02-28T23:22:49.693Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1183, added 1180
2025-02-28T23:22:50.693Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1204, added 1207
2025-02-28T23:22:52.011Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1205, added 1207
2025-02-28T23:22:53.011Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1205, added 1208
2025-02-28T23:22:54.905Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1206, added 1208
2025-02-28T23:22:54.966Z [INFO]: Progress: resolved 1209, reused 0, downloaded 1206, added 1209, done
2025-02-28T23:22:57.130Z [INFO]: dependencies:
                                 + @ai-sdk/fireworks 0.1.8
                                 + @ai-sdk/openai 1.1.9
                                 + @codemirror/lang-javascript 6.2.2
                                 + @codemirror/lang-python 6.1.6
                                 + @codemirror/state 6.5.0
                                 + @codemirror/theme-one-dark 6.1.2
                                 + @codemirror/view 6.35.3
                                 + @okto_web3/react-sdk 0.2.1
                                 + @prisma/client 6.4.1
                                 + @privy-io/react-auth 2.5.0
                                 + @radix-ui/react-alert-dialog 1.1.2
                                 + @radix-ui/react-dialog 1.1.2
                                 + @radix-ui/react-dropdown-menu 2.1.2
                                 + @radix-ui/react-icons 1.3.0
                                 + @radix-ui/react-label 2.1.0
                                 + @radix-ui/react-select 2.1.2
                                 + @radix-ui/react-separator 1.1.0
                                 + @radix-ui/react-slot 1.1.0
                                 + @radix-ui/react-tooltip 1.1.3
                                 + @radix-ui/react-visually-hidden 1.1.0
                                 + @tanstack/react-query 5.66.10
                                 + @vercel/analytics 1.3.2
                                 + @vercel/blob 0.24.1
                                 + @vercel/postgres 0.10.0
                                 + ai 4.1.44
                                 + bcrypt 5.1.1
                                 + bcrypt-ts 5.0.2
                                 + class-variance-authority 0.7.0
                                 + classnames 2.5.1
                                 + clsx 2.1.1
                                 + codemirror 6.0.1
                                 + connectkit 1.8.2
                                 + date-fns 4.1.0
                                 + diff-match-patch 1.0.5
                                 + dotenv 16.4.5
                                 + drizzle-orm 0.34.1
                                 + fast-deep-equal 3.1.3
                                 + framer-motion 11.11.10
                                 + geist 1.3.1
                                 + i 0.3.7
                                 + lucide-react 0.446.0
                                 + nanoid 5.0.8
                                 + next 15.0.3-canary.2
                                 + next-auth 5.0.0-beta.25
                                 + next-themes 0.3.0
                                 + orderedmap 2.1.1
                                 + papaparse 5.5.2
                                 + postgres 3.4.5
                                 + prosemirror-example-setup 1.2.3
                                 + prosemirror-inputrules 1.4.0
                                 + prosemirror-markdown 1.13.1
                                 + prosemirror-model 1.23.0
                                 + prosemirror-schema-basic 1.2.3
                                 + prosemirror-schema-list 1.4.1
                                 + prosemirror-state 1.4.3
                                 + prosemirror-view 1.35.0
                                 + react 19.0.0-rc-45804af1-20241021
                                 + react-data-grid 7.0.0-beta.47
                                 + react-dom 19.0.0-rc-45804af1-20241021
                                 + react-icons 5.5.0
                                 + react-markdown 9.0.1
                                 + react-resizable-panels 2.1.7
                                 + recharts 2.15.1
                                 + remark-gfm 4.0.0
                                 + server-only 0.0.1
                                 + siwe 3.0.0
                                 + sonner 1.5.0
                                 + swr 2.2.5
                                 + tailwind-merge 2.5.4
                                 + tailwindcss-animate 1.0.7
                                 + usehooks-ts 3.1.0
                                 + viem 2.23.5
                                 + wagmi 2.14.12
                                 + zod 3.23.8
                                 devDependencies:
                                 + @biomejs/biome 1.9.4
                                 + @tailwindcss/typography 0.5.15
                                 + @types/bcrypt 5.0.2
                                 + @types/d3-scale 4.0.8
                                 + @types/node 22.9.0
                                 + @types/papaparse 5.3.15
                                 + @types/pdf-parse 1.1.4
                                 + @types/react 18.3.12
                                 + @types/react-dom 18.3.1
                                 + drizzle-kit 0.25.0
                                 + eslint 8.57.1
                                 + eslint-config-next 14.2.5
                                 + eslint-config-prettier 9.1.0
                                 + eslint-import-resolver-typescript 3.6.3
                                 + eslint-plugin-tailwindcss 3.17.5
                                 + postcss 8.4.47
                                 + tailwindcss 3.4.14
                                 + tsx 4.19.2
                                 + typescript 5.6.3
                                 ╭ Warning ─────────────────────────────────────────────────────────────────────╮│                                                                              ││   Ignored build scripts: @biomejs/biome, @prisma/client, bcrypt,             ││   bigint-buffer, bufferutil, esbuild, keccak, sharp, utf-8-validate.         ││   Run "pnpm approve-builds" to pick which dependencies should be allowed     ││   to run scripts.                                                            ││                                                                              │╰──────────────────────────────────────────────────────────────────────────────╯
2025-02-28T23:22:57.183Z [INFO]: Done in 23.1s using pnpm v10.5.2
2025-02-28T23:22:57.237Z [INFO]: # Completed phase: preBuild
                                 # Starting phase: build
                                 # Executing command: pnpm run build
2025-02-28T23:22:57.686Z [INFO]: > ai-chatbot@0.1.0 build /codebuild/output/src2391640231/src/WeOwnAiAgent
                                 > tsx lib/db/migrate && next build
2025-02-28T23:22:58.083Z [WARNING]: /codebuild/output/src2391640231/src/WeOwnAiAgent/lib/db/migrate.ts:20
                                    throw new Error('Database URL is not defined. Please set POSTGRES_URL or DATABASE_URL in your environment');
                                    ^
                                    Error: Database URL is not defined. Please set POSTGRES_URL or DATABASE_URL in your environment
                                    at runMigrate (/codebuild/output/src2391640231/src/WeOwnAiAgent/lib/db/migrate.ts:20:11)
                                    at postgres (/codebuild/output/src2391640231/src/WeOwnAiAgent/lib/db/migrate.ts:46:1)
                                    at Object.<anonymous> (/codebuild/output/src2391640231/src/WeOwnAiAgent/lib/db/migrate.ts:46:12)
                                    at Module._compile (node:internal/modules/cjs/loader:1256:14)
                                    at Object.transformer (/codebuild/output/src2391640231/src/WeOwnAiAgent/node_modules/.pnpm/tsx@4.19.2/node_modules/tsx/dist/register-DCnOAxY2.cjs:2:1186)
                                    at Module.load (node:internal/modules/cjs/loader:1119:32)
                                    at Module._load (node:internal/modules/cjs/loader:960:12)
                                    at ModuleWrap.<anonymous> (node:internal/modules/esm/translators:169:29)
                                    at ModuleJob.run (node:internal/modules/esm/module_job:194:25)
                                    Node.js v18.18.2
2025-02-28T23:22:58.094Z [INFO]: ELIFECYCLE  Command failed with exit code 1.
2025-02-28T23:22:58.108Z [ERROR]: !!! Build failed
2025-02-28T23:22:58.109Z [INFO]: Please read more about Amplify Hosting's support for SSR frameworks to find if your build failure is related to an unsupported feature: https://docs.aws.amazon.com/amplify/latest/userguide/amplify-ssr-framework-support.html. You may also find this troubleshooting guide useful: https://docs.aws.amazon.com/amplify/latest/userguide/troubleshooting-ssr-deployment.html
2025-02-28T23:22:58.110Z [ERROR]: !!! Error: Command failed with exit code 1
2025-02-28T23:22:58.110Z [INFO]: # Starting environment caching...
2025-02-28T23:22:58.110Z [INFO]: # Environment caching completed

